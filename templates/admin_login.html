<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Admin â€” Connexion</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='bmci_logo.png') }}">
  <style>
body {
  background: linear-gradient(120deg, #e0f7e9 0%, #c8e6c9 100%);
  min-height: 100vh;
  font-family: 'Segoe UI', 'Roboto', Arial, sans-serif;
  position: relative;
  overflow-x: hidden;
}
.login-bg {
  position: fixed;
  inset: 0;
  z-index: 0;
  background: radial-gradient(circle at 20% 40%, #43a04733 0%, transparent 70%), 
              radial-gradient(circle at 80% 60%, #388e3c33 0%, transparent 70%);
  pointer-events: none;
}
.fancy-glass {
  background: rgba(255,255,255,0.85);
  border-radius: 22px;
  box-shadow: 0 8px 32px rgba(44, 62, 80, 0.18);
  border: 1.5px solid #b2dfdb;
  backdrop-filter: blur(7px);
  -webkit-backdrop-filter: blur(7px);
  position: relative;
}
.login-card {
  padding: 2.7rem 2.2rem 2.2rem 2.2rem;
  margin-top: 7vh;
  max-width: 480px;
  margin-left: auto;
  margin-right: auto;
  z-index: 1;
}
.bmci-logo {
  display: block;
  margin-left: auto;
  margin-right: auto;
  margin-bottom: 1.2rem;
  width: 80px;
  height: auto;
  filter: drop-shadow(0 2px 8px rgba(44, 62, 80, 0.10));
}
.icon-title {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.7rem;
  margin-bottom: 0.5rem;
}
.login-title {
  font-weight: 700;
  color: #218838;
  letter-spacing: 1px;
  text-align: center;
  margin-bottom: 0;
  font-size: 1.5rem;
}
.subtitle {
  text-align: center;
  color: #388e3c;
  font-size: 1.08rem;
  margin-bottom: 1.5rem;
  font-weight: 500;
  letter-spacing: 0.5px;
}
.form-label {
  color: #218838;
  font-weight: 500;
}
.form-control {
  background: #e8f5e9;
  border-radius: 8px;
  border: 1px solid #a5d6a7;
  font-size: 1.08rem;
  color: #2e7d32;
  transition: box-shadow 0.2s;
}
.form-control:focus {
  border-color: #43a047;
  box-shadow: 0 0 0 0.15rem rgba(67,160,71,.15);
}
.btn-primary.fancy-btn {
  background: linear-gradient(90deg, #43a047 0%, #388e3c 100%);
  border: none;
  font-weight: 600;
  letter-spacing: 0.5px;
  color: #fff;
  box-shadow: 0 2px 8px rgba(67,160,71,0.13);
  transition: background 0.2s, transform 0.2s;
  display: flex;
  align-items: center;
  gap: 0.2rem;
  position: relative;
  overflow: hidden;
}
.btn-primary.fancy-btn:hover {
  background: linear-gradient(90deg, #388e3c 0%, #43a047 100%);
  color: #fff;
  transform: translateY(-2px) scale(1.03);
  box-shadow: 0 6px 18px rgba(67,160,71,0.18);
}
.btn-outline-secondary {
  font-weight: 500;
  color: #218838;
  border-radius: 8px;
  border: 1px solid #a5d6a7;
  background: #f1f8e9;
  transition: background 0.2s, color 0.2s;
}
.btn-outline-secondary:hover {
  background: #c8e6c9;
  color: #1b5e20;
}
.alert {
  border-radius: 8px;
  font-size: 1rem;
  margin-bottom: 1rem;
  text-align: center;
  box-shadow: 0 2px 8px rgba(44, 62, 80, 0.10);
}
@media (max-width: 600px) {
  .login-card {
    padding: 1.2rem 0.7rem 1.2rem 0.7rem;
    max-width: 98vw;
  }
  .icon-title { font-size: 1.1rem; }
}
  </style>
</head>
<body>
<div class="login-bg"></div>
<div class="login-card fancy-glass">
  <img src="{{ url_for('static', filename='bmci_logo.png') }}" alt="BMCI Logo" class="bmci-logo">
  <div class="icon-title">
    <svg width="38" height="38" fill="#43a047" viewBox="0 0 16 16" style="margin-bottom:-8px;">
      <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
      <path d="M2 14s-1 0-1-1 1-4 7-4 7 3 7 4-1 1-1 1H2z"/>
    </svg>
    <h3 class="login-title">Connexion administrateur</h3>
  </div>
  <div class="subtitle">BMCI Groupe BNP Paribas</div>
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% set cat, msg = messages[-1] %}
      <div class="alert alert-{{ 'success' if cat=='success' else ('warning' if cat=='warning' else 'danger') }} mb-3" role="alert">
        {{ msg }}
      </div>
    {% endif %}
  {% endwith %}
  <form method="post" action="{{ url_for('admin.login') }}">
    <div class="mb-3">
      <label for="email" class="form-label">E-mail</label>
      <input id="email" name="email" type="email" class="form-control" required placeholder="admin@exemple.com">
    </div>
    <div class="mb-3">
      <label for="password" class="form-label">Mot de passe</label>
      <input id="password" name="password" type="password" class="form-control" required>
    </div>
    <div class="d-flex gap-2">
      <button class="btn btn-primary fancy-btn" type="submit">
        <span>Se connecter</span>
        <svg width="22" height="22" fill="#fff" style="margin-left:7px;" viewBox="0 0 16 16">
          <path d="M10.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L9.293 8l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"/>
        </svg>
      </button>
      <a href="{{ url_for('index') }}" class="btn btn-outline-secondary">Retour</a>
    </div>
  </form>
</div>
<script>
  setTimeout(function() {
    var alert = document.querySelector('.alert');
    if(alert) alert.style.display = 'none';
  }, 3000);
</script>
</body>
</html>
